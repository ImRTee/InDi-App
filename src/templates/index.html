<!doctype html>
<html>
        <head>
            <!-- Required meta tags -->
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
            <title>InDi App</title>
            <!--Favicon-->
            <link rel="icon" href="{{ url_for('static', filename='images/logo.jpg')}}" type="image/x-icon" />
            <!-- Font Awesome -->
            <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
            <!-- core CSS of SnackbarJS, find it in /dist -->
            <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='side-packages/snackbarjs-master/dist/snackbar.min.css')}}">
            <!-- the default theme of SnackbarJS, find it in /themes-css -->
            <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='side-packages/snackbarjs-master/themes-css/material.css')}}">

            <!--&lt;!&ndash; Bootstrap core CSS &ndash;&gt;-->
            <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">-->
            <!--&lt;!&ndash; Material Design Bootstrap &ndash;&gt;-->
            <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.14/css/mdb.min.css" rel="stylesheet">-->

            <!-- Bootstrap core CSS -->
            <link href="{{url_for('static', filename= 'css/md-bootstrap/css/bootstrap.min.css')}}" rel="stylesheet">
            <!-- Material Design Bootstrap -->
            <link href="{{url_for('static', filename= 'css/md-bootstrap/css/mdb.min.css')}}" rel="stylesheet">

            <!--JQuery UI style-->
            <link href="http://code.jquery.com/ui/1.9.1/themes/ui-darkness/jquery-ui.css" rel="stylesheet">

            <!--Main CSS-->
            <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css')}}">

            <!-- JQuery -->
            <!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>-->
            <script src="{{url_for('static', filename='css/md-bootstrap/js/jquery-3.3.1.min.js')}}"></script>
            <!--Snackbar js-->
            <script  src="{{url_for('static', filename='side-packages/snackbarjs-master/dist/snackbar.min.js')}}"></script>
            <!--&lt;!&ndash;Popper js&ndash;&gt;-->
            <!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>-->
            <!-- Bootstrap core JavaScript -->
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
            <!--Jquery UI Javascript-->
            <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>



            <!--Main javascript files-->
            <script src="{{url_for('static', filename='js/text-editor.js')}}"></script>
            <script  src="{{url_for('static', filename='js/services/TeamService.js')}}"></script>
            <script  src="{{url_for('static', filename='js/services/PageService.js')}}"></script>
            <script src="{{url_for('static', filename='js/models/Team.js')}}"></script>
            <script src="{{url_for('static', filename='js/models/PopoverBtn.js')}}"></script>
            <script src="{{url_for('static', filename='js/models/Page.js')}}"></script>

            <script>
                var teams = '{{ teams|tojson }}';
                teams = JSON.parse(teams);
                console.log(teams)
            </script>
        </head>

        <body >
        <div class="wrapper">
            <!-- Sidebar -->
            <nav id="sidebar">
                <div id="sidebar-overlay">
                    <!--Sidebar header-->
                <div class="sidebar-header text-center">
                    <a href="/">
                        <img class="img-fluid rounded-circle"  src="../static/images/logo.jpg " />
                    </a>
                    <button id="addTeam-tool-btn" class=" btn mt-3" data-toggle="modal" data-target="#addTeamModal">
                        <strong>Add Team</strong>
                    </button>
                </div>
                    <!--Sidebar body-->
                <ul class="list-unstyled components">
                    {%   for team in teams %}
                    <li class="active">
                         <a href="#{{team['teamId']}}" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">{{team['teamId'].replace('-', ' ').upper()}}</a>
                        <ul class="collapse list-unstyled" id="{{team['teamId']}}">
                            {%  for pageId in team['pageId'] %}
                            <li>
                                <a href="/{{team['teamId']}}/{{pageId}}">{{pageId.replace('-',' ').title()}}</a>
                            </li>
                            {% endfor %}
                        </ul>
                    </li>
                    {% endfor %}
                </ul>
                </div>
            </nav>
            <!--Add  Team form-->
            <div class="modal fade" id="addTeamModal" tabindex="-1" role="dialog" aria-labelledby="addTeamModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header" style="background: #3f51b5; color: white">
                            <h5 class="modal-title" id="addTeamModalLabel"><strong>Add Team Form</strong></h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form class="text-center" style="color: #757575;">

                                <div class="md-form mt-3">
                                    <input type="text" id="newTeam-title" class="form-control">
                                    <label for="newTeam-title">Team name</label>
                                </div>
                                <div class="md-form">
                                    <input type="text" id="newTeam-confluenceLink" class="form-control">
                                    <label for="newTeam-confluenceLink">Confluence link</label>
                                </div>
                                <div class="md-form">
                                    <input type="text" id="newTeam-pageTitle" class="form-control">
                                    <label for="newTeam-pageTitle">Page title</label>
                                </div>
                                <div class="md-form">
                                    <input type="text" id="newTeam-projectName" class="form-control">
                                    <label for="newTeam-projectName">Project name </label>
                                </div>
                                <div class="md-form">
                                    <input type="text" id="newTeam-projectDescription" class="form-control">
                                    <label for="newTeam-projectDescription">Project Description </label>
                                </div>
                                <div class="md-form">
                                    <input type="text" id="newTeam-pageLink" class="form-control">
                                    <label for="newTeam-pageLink">Confluence link for page</label>
                                </div>
                                <button id="addTeam-btn" class="btn btn-rounded btn-block z-depth-0 my-4 waves-effect" style="background: #3f51b5 ">
                                    Add
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!--Content-->
            <div id="content " class="container-fluid">
                    {% block content %}
                    <!--Top Nav-->
                    <nav class="navbar navbar-expand-lg navbar-dark indigo text-center px-5">
                        <!--Toggle sidebar button-->
                        <button type="button" id="sidebarCollapse" class="btn btn-info mr-5">
                            <i class="fas fa-align-left"></i>
                            <span></span>
                        </button>
                        <h1 class=" white-text"> Home </h1>
                    </nav>
                    <div id ="home-content" class="p-5">
                        <h2 class="text-center"><strong>List of teams</strong></h2>
                        <ul id="teamList" class="row ">
                            {% for team in teams %}
                            <div class="col-sm-6 col-md-4 mt-3">
                            <!-- Card -->
                                <div class="card">
                                    <!-- Card image -->
                                    <img class="card-img-top"  src="../static/images/nab-logo.png" height="188">
                                    <!-- Card content -->
                                    <div class="card-body">
                                        <!-- Title -->
                                        <h4 class="card-title"><a>{{ team['teamId'].upper().replace('-', ' ')}}</a></h4>
                                        <!-- Text -->
                                        <ul class="list-group mb-2">
                                            {% for pageId in team['pageId'] %}
                                            <a href="/{{team['teamId']}}/{{pageId}}"><li class="list-group-item">{{pageId.replace('-', ' ')}}</li></a>
                                            {% endfor %}
                                        </ul>
                                        <!-- Button -->
                                        <a href="/{{team['teamId']}}" class="btn btn-primary">View team</a>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endblock %}

                </div>
            </div>



            <!--Snackbar reference-->
            <!--https://github.com/FezVrasta/snackbarjs-->
            <!-- Bootstrap tooltips -->


    </body>
    <!-- Footer -->
    <footer class="page-footer font-small indigo darken-3 pt-4 ">
        <!-- Footer Elements -->
        <div class="container">
            <!-- Call to action -->
            <ul class="list-unstyled list-inline text-center">
                <li class="list-inline-item">
                    <h5 class="mb-1">Learn more about me here!</h5>
                </li>
                <li class="list-inline-item">
                    <a href="https://bitbucket.org/ImRTee/xproject/src/master/" target="_blank" class="btn btn-outline-white btn-rounded">Deploy me!</a>
                </li>
            </ul>
            <!-- Call to action -->

        </div>
        <!-- Footer Elements -->

        <!-- Copyright -->
        <div class="footer-copyright text-center py-3">Creator:
            <a href="https://www.linkedin.com/in/raymondhieutran/" target="_blank"> Raymond Hieu Tran</a>
        </div>
        <!-- Copyright -->

    </footer>
    <!-- Footer -->

        <!-- Bootstrap tooltips -->
        <script src="{{url_for('static', filename='css/md-bootstrap/js/popper.min.js')}}"></script>
        <!-- Bootstrap core JavaScript -->
        <script src="{{url_for('static', filename='css/md-bootstrap/js/bootstrap.min.js')}}"></script>
        <!-- MDB core JavaScript -->
        <script src="{{url_for('static', filename='css/md-bootstrap/js/mdb.min.js')}}"></script>

        <script src="{{url_for('static', filename='js/app.js')}}"></script>


        <!-- MDB core JavaScript -->
    <!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.14/js/mdb.min.js"></script>-->

</html>
